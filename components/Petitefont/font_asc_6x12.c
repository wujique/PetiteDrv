

#include "mcu.h"
#include "petite_config.h"
#include "petite_font.h"
#include "log.h"
#include "board_sysconf.h"
#include "vfs.h"
#include "petite.h"
#include "drv_config.h"

/*
	屋脊雀工作室制作的ASC点阵。
	大小写统一基线，每一个字符都经过人工优化，在COG LCD上显示效果非常出色。
	*/
const uint8_t font_asc_1206[]=
{

	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	
	0x00, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x00, 0x20, 0x00, 0x00,
	
	0x00, 0x28, 0x28, 0x28, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	
	0x00, 0x00, 0x28, 0x28, 0xfc, 0x28, 0xfc, 0x50, 0x50, 0x00, 0x00, 0x00,
	
	0x00, 0x10, 0x38, 0x50, 0x50, 0x38, 0x14, 0x24, 0x78, 0x20, 0x00, 0x00,
	
	0x00, 0x00, 0x24, 0x54, 0x28, 0x18, 0x30, 0x48, 0x54, 0x08, 0x00, 0x00,
	
	0x00, 0x00, 0x20, 0x50, 0x50, 0x20, 0x54, 0x54, 0x48, 0x34, 0x00, 0x00,
	
	0x00, 0x20, 0x20, 0x20, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	
	0x00, 0x08, 0x10, 0x10, 0x20, 0x20, 0x20, 0x20, 0x10, 0x10, 0x08, 0x00,
	
	0x00, 0x40, 0x20, 0x20, 0x10, 0x10, 0x10, 0x10, 0x20, 0x20, 0x40, 0x00,
	
	0x00, 0x10, 0x54, 0x38, 0x54, 0x10, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	
	0x00, 0x00, 0x00, 0x10, 0x10, 0x7c, 0x10, 0x10, 0x00, 0x00, 0x00, 0x00,
	
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x30, 0x30, 0x60, 0x00,
	
	0x00, 0x00, 0x00, 0x00, 0x00, 0x78, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x30, 0x30, 0x00, 0x00,
	
	0x00, 0x04, 0x04, 0x08, 0x08, 0x10, 0x10, 0x10, 0x20, 0x20, 0x00, 0x00,
	
	0x00, 0x38, 0x44, 0x44, 0x4c, 0x54, 0x64, 0x44, 0x44, 0x38, 0x00, 0x00,
	
	0x00, 0x30, 0x50, 0x10, 0x10, 0x10, 0x10, 0x10, 0x10, 0x7c, 0x00, 0x00,
	
	0x00, 0x38, 0x44, 0x04, 0x04, 0x08, 0x10, 0x20, 0x40, 0x7c, 0x00, 0x00,
	
	0x00, 0x78, 0x04, 0x04, 0x04, 0x38, 0x04, 0x04, 0x04, 0x78, 0x00, 0x00,
	
	0x00, 0x18, 0x28, 0x28, 0x48, 0x48, 0x48, 0x7c, 0x08, 0x08, 0x00, 0x00,
	
	0x00, 0x78, 0x40, 0x40, 0x40, 0x78, 0x04, 0x04, 0x04, 0x78, 0x00, 0x00,
	
	0x00, 0x38, 0x40, 0x40, 0x40, 0x78, 0x44, 0x44, 0x44, 0x38, 0x00, 0x00,
	
	0x00, 0x7c, 0x04, 0x04, 0x08, 0x08, 0x10, 0x10, 0x10, 0x10, 0x00, 0x00,
	
	0x00, 0x38, 0x44, 0x44, 0x64, 0x38, 0x4c, 0x44, 0x44, 0x38, 0x00, 0x00,
	
	0x00, 0x38, 0x44, 0x44, 0x44, 0x3c, 0x04, 0x04, 0x04, 0x38, 0x00, 0x00,
	
	0x00, 0x00, 0x00, 0x00, 0x30, 0x30, 0x00, 0x00, 0x30, 0x30, 0x00, 0x00,
	
	0x00, 0x00, 0x00, 0x00, 0x30, 0x30, 0x00, 0x00, 0x30, 0x30, 0x60, 0x00,
	
	0x00, 0x00, 0x08, 0x10, 0x20, 0x40, 0x40, 0x20, 0x10, 0x08, 0x00, 0x00,
	
	0x00, 0x00, 0x00, 0x00, 0x7c, 0x00, 0x7c, 0x00, 0x00, 0x00, 0x00, 0x00,
	
	0x00, 0x00, 0x40, 0x20, 0x10, 0x08, 0x08, 0x10, 0x20, 0x40, 0x00, 0x00,
	
	0x00, 0x30, 0x48, 0x48, 0x08, 0x10, 0x20, 0x20, 0x20, 0x00, 0x20, 0x00,
	
	0x00, 0x30, 0x48, 0x84, 0xb4, 0xac, 0xa4, 0x98, 0x80, 0x40, 0x38, 0x00,
	
	0x00, 0x10, 0x28, 0x44, 0x44, 0x7c, 0x44, 0x44, 0x44, 0x44, 0x00, 0x00,
	
	0x00, 0x78, 0x44, 0x44, 0x44, 0x78, 0x44, 0x44, 0x44, 0x78, 0x00, 0x00,
	
	0x00, 0x1c, 0x20, 0x40, 0x40, 0x40, 0x40, 0x40, 0x20, 0x1c, 0x00, 0x00,
	
	0x00, 0x70, 0x48, 0x44, 0x44, 0x44, 0x44, 0x44, 0x4c, 0x78, 0x00, 0x00,
	
	0x00, 0x7c, 0x40, 0x40, 0x40, 0x7c, 0x40, 0x40, 0x40, 0x7c, 0x00, 0x00,
	
	0x00, 0x7c, 0x40, 0x40, 0x40, 0x7c, 0x40, 0x40, 0x40, 0x40, 0x00, 0x00,
	
	0x00, 0x3c, 0x40, 0x40, 0x40, 0x4c, 0x44, 0x44, 0x44, 0x3c, 0x00, 0x00,
	
	0x00, 0x44, 0x44, 0x44, 0x44, 0x7c, 0x44, 0x44, 0x44, 0x44, 0x00, 0x00,
	
	0x00, 0x7c, 0x10, 0x10, 0x10, 0x10, 0x10, 0x10, 0x10, 0x7c, 0x00, 0x00,
	
	0x00, 0x7c, 0x10, 0x10, 0x10, 0x10, 0x10, 0x10, 0x10, 0x60, 0x00, 0x00,
	
	0x00, 0x48, 0x48, 0x50, 0x60, 0x60, 0x50, 0x48, 0x44, 0x44, 0x00, 0x00,
	
	0x00, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x40, 0x7c, 0x00, 0x00,
	
	0x00, 0x6c, 0x6c, 0x6c, 0x6c, 0x54, 0x54, 0x54, 0x54, 0x44, 0x00, 0x00,
	
	0x00, 0x44, 0x64, 0x64, 0x54, 0x54, 0x54, 0x4c, 0x4c, 0x44, 0x00, 0x00,
	
	0x00, 0x38, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x38, 0x00, 0x00,
	
	0x00, 0x78, 0x44, 0x44, 0x44, 0x78, 0x40, 0x40, 0x40, 0x40, 0x00, 0x00,
	
	0x00, 0x38, 0x44, 0x44, 0x44, 0x44, 0x44, 0x74, 0x4c, 0x38, 0x0c, 0x00,
	
	0x00, 0x78, 0x44, 0x44, 0x44, 0x78, 0x50, 0x48, 0x48, 0x44, 0x00, 0x00,
	
	0x00, 0x3c, 0x40, 0x40, 0x40, 0x38, 0x04, 0x04, 0x04, 0x78, 0x00, 0x00,
	
	0x00, 0x7c, 0x10, 0x10, 0x10, 0x10, 0x10, 0x10, 0x10, 0x10, 0x00, 0x00,
	
	0x00, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x44, 0x38, 0x00, 0x00,
	
	0x00, 0x44, 0x44, 0x44, 0x44, 0x44, 0x28, 0x28, 0x28, 0x10, 0x00, 0x00,
	
	0x00, 0x44, 0x44, 0x54, 0x54, 0x54, 0x7c, 0x6c, 0x28, 0x28, 0x00, 0x00,
	
	0x00, 0x44, 0x44, 0x28, 0x28, 0x10, 0x28, 0x28, 0x44, 0x44, 0x00, 0x00,
	
	0x00, 0x44, 0x44, 0x44, 0x28, 0x28, 0x10, 0x10, 0x10, 0x10, 0x00, 0x00,
	
	0x00, 0x7c, 0x04, 0x08, 0x08, 0x10, 0x20, 0x20, 0x40, 0x7c, 0x00, 0x00,
	
	0x00, 0x38, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x38, 0x00,
	
	0x00, 0x20, 0x20, 0x10, 0x10, 0x10, 0x08, 0x08, 0x08, 0x04, 0x04, 0x00,
	
	0x00, 0x70, 0x10, 0x10, 0x10, 0x10, 0x10, 0x10, 0x10, 0x10, 0x70, 0x00,
	
	0x00, 0x20, 0x70, 0x50, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xfc, 0x00,
	
	0x00, 0x60, 0x30, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
	
	0x00, 0x00, 0x00, 0x00, 0x38, 0x04, 0x3c, 0x44, 0x44, 0x3c, 0x00, 0x00,
	
	0x00, 0x40, 0x40, 0x40, 0x78, 0x44, 0x44, 0x44, 0x44, 0x78, 0x00, 0x00,
	
	0x00, 0x00, 0x00, 0x00, 0x3c, 0x40, 0x40, 0x40, 0x40, 0x3c, 0x00, 0x00,
	
	0x00, 0x04, 0x04, 0x04, 0x3c, 0x44, 0x44, 0x44, 0x4c, 0x34, 0x00, 0x00,
	
	0x00, 0x00, 0x00, 0x00, 0x38, 0x44, 0x7c, 0x40, 0x40, 0x38, 0x00, 0x00,
	
	0x00, 0x0c, 0x10, 0x10, 0x7c, 0x10, 0x10, 0x10, 0x10, 0x10, 0x00, 0x00,
	
	0x00, 0x00, 0x00, 0x00, 0x3c, 0x44, 0x44, 0x78, 0x40, 0x7c, 0x44, 0x78,
	
	0x00, 0x40, 0x40, 0x40, 0x78, 0x44, 0x44, 0x44, 0x44, 0x44, 0x00, 0x00,
	
	0x00, 0x30, 0x30, 0x00, 0x30, 0x10, 0x10, 0x10, 0x10, 0x38, 0x00, 0x00,
	
	0x00, 0x18, 0x18, 0x00, 0x78, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x70,
	
	0x00, 0x40, 0x40, 0x40, 0x48, 0x50, 0x60, 0x60, 0x50, 0x48, 0x00, 0x00,
	
	0x00, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x20, 0x18, 0x00, 0x00,
	
	0x00, 0x00, 0x00, 0x00, 0x78, 0x54, 0x54, 0x54, 0x54, 0x54, 0x00, 0x00,
	
	0x00, 0x00, 0x00, 0x00, 0x70, 0x48, 0x48, 0x48, 0x48, 0x48, 0x00, 0x00,
	
	0x00, 0x00, 0x00, 0x00, 0x38, 0x44, 0x44, 0x44, 0x44, 0x38, 0x00, 0x00,
	
	0x00, 0x00, 0x00, 0x00, 0x78, 0x44, 0x44, 0x44, 0x44, 0x78, 0x40, 0x40,
	
	0x00, 0x00, 0x00, 0x00, 0x3c, 0x44, 0x44, 0x44, 0x4c, 0x34, 0x04, 0x04,
	
	0x00, 0x00, 0x00, 0x00, 0x58, 0x64, 0x40, 0x40, 0x40, 0x40, 0x00, 0x00,
	
	0x00, 0x00, 0x00, 0x00, 0x38, 0x40, 0x60, 0x18, 0x08, 0x70, 0x00, 0x00,
	
	0x00, 0x20, 0x20, 0x20, 0xf8, 0x20, 0x20, 0x20, 0x20, 0x18, 0x00, 0x00,
	
	0x00, 0x00, 0x00, 0x00, 0x48, 0x48, 0x48, 0x48, 0x48, 0x3c, 0x00, 0x00,
	
	0x00, 0x00, 0x00, 0x00, 0xcc, 0x48, 0x48, 0x50, 0x30, 0x20, 0x00, 0x00,
	
	0x00, 0x00, 0x00, 0x00, 0x44, 0x54, 0x54, 0x78, 0x28, 0x28, 0x00, 0x00,
	
	0x00, 0x00, 0x00, 0x00, 0x64, 0x28, 0x10, 0x10, 0x28, 0x44, 0x00, 0x00,
	
	0x00, 0x00, 0x00, 0x00, 0x44, 0x44, 0x48, 0x28, 0x30, 0x10, 0x10, 0x60,
	
	0x00, 0x00, 0x00, 0x00, 0x78, 0x08, 0x10, 0x20, 0x40, 0x78, 0x00, 0x00,
	
	0x00, 0x18, 0x10, 0x10, 0x10, 0x10, 0x60, 0x10, 0x10, 0x10, 0x18, 0x00,
	
	0x00, 0x10, 0x10, 0x10, 0x10, 0x10, 0x10, 0x10, 0x10, 0x10, 0x10, 0x00,
	
	0x00, 0x60, 0x20, 0x20, 0x20, 0x20, 0x18, 0x20, 0x20, 0x20, 0x60, 0x00,
	
	0x00, 0x00, 0x00, 0x00, 0x00, 0x68, 0xb0, 0x00, 0x00, 0x00, 0x00, 0x00,
	
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
};


bool FontAsc6X12_get_glyph_dsc(const struct _petite_font_t *pfont, petite_font_glyph_dsc_t *glyph, uint32_t letter, uint32_t letter_next)
{

	glyph->adv_w = 6;
	glyph->box_w = 6;

	glyph->box_h = 12;
	
	glyph->ofs_x = 0;
	glyph->ofs_y = 0;

	glyph->bpp = 1;

	return true;
}


const uint8_t *FontAsc6X12_get_glyph_bitmap(const petite_font_t * pfont, uint32_t letter)
{
	uint32_t shift;
	uint16_t code;

	//uart_printf("get bmp font:%04x\r\n", letter);
	/* */
	if ((letter >0x7f) || (letter < 0x20)) return NULL;
	
	code = letter - 0x20;
	
	shift = code * 12;

	return (const uint8_t *)&font_asc_1206[shift];
}

PetiteFontDsc FontAsc6x12Pfd={
	.fdt = FONT_H_H_L_R_U_D,
	.st = FONT_ST_ASC,
	.stc = NULL,
};


petite_font_t FontAsc6X12 ={

	.get_glyph_dsc = FontAsc6X12_get_glyph_dsc,
	.get_glyph_bitmap = FontAsc6X12_get_glyph_bitmap,

	.line_height = 12,
	.base_line = 10,
	.subpx = 0,

	.underline_position = 11,
	.underline_thickness = 1,

	.dsc = (void *)&FontAsc6x12Pfd,

	.fallback = NULL,
	.user_data = NULL,
};


